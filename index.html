<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script src="recipes.json"></script>
		<script src="gear.json"></script>
		<script src="heroes.json"></script>
		<script>
			function sanity_check() {
				var litmus = false;
				$.each(heroes, function(hk,hero) {
					$.each(hero.gearsets, function(gk,gearset) {
						$.each(gearset, function(slot,item) {
							if(false === item in gear) {
								$('#error').html($('#error').html() + 'UNMATCHED GEAR: ' + hk + '/' + gk + '/' + (slot + 1) + '/' + item + '<br />');
								litmus = true;
							}
						});
					});
				});
				if(false === litmus) {
					calculate_gear();
				}
			}
			function calculate_gear() {
				$.each(heroes, function(hk,hero) {
					$.each(hero, function(gk,gearset) {
						$.each(gearset, function(slot,item) {

						});
					});
				});
			}
			$(function() { sanity_check(); });
		</script>
		<style>
			#error { background:red; color:white; }
			.green { color:green }
			.blue { color:blue }
			.purple { color:purple }
			.orange { color:orange }
		</style>
	</head>
	<body>
		<h1>DragonSoul RPG Gear Calculator</h1>
		<div id="error"></div>
		<h2>Items Needed</h2>
		<h3>White</h3>
		<div id="white"></div>
		<h3>Green</h3>
		<div id="green" class="green"></div>
		<h3>Blue</h3>
		<div id="blue" class="blue"></div>
		<h3>Purple</h3>
		<div id="purple" class="purple"></div>
		<h3>Orange</h3>
		<div id="orange" class="orange"></div>
		<h2>Heroes</h2>
		<div id="heroes"></div>
	</body>
</html>
